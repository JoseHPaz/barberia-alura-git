 <meta charset="UTF-8">

<h1> PROGRAMA <br>Juego secreto </h1>
<br>
Tienes 3 intentos para adivinar un numero entre el 1-10<br>Si aciertas, el juego vuelve a iniciarse<br><br>
<input/>
<br>
<br>
<button>Ingrese un numero</button>

<script>


var input  = document.querySelector("input");
var button = document.querySelector("button");
input.focus();

function aleatorio ()
	{
		return Math.round(Math.random()*10);
	}


	function sortear (cantidad)
	{
		var secrets = [];
		var contador=1;

		while(contador<=cantidad)
		{
			var numeroAleatorio= aleatorio();
			console.log(numeroAleatorio);
			var encontrado = false;
			if(numeroAleatorio!=0)
			{
				for(var i =0; i < secrets.length; i++)
				{
					if(numeroAleatorio == secrets[i])
					{
						encontrado = true;
						break;
					}
				}

				if(encontrado == false)
				{
					secrets.push(numeroAleatorio);
					contador++;
				}	
			}

		}
		return secrets;
	}

var secrets= sortear(4)
var intentos= 3;
console.log(secrets);


	function verificar()
	{

		if(parseInt(input.value)== secrets)
		{
			intentos--;
			alert("ENHORABUENA!!!  Usted acerto el numero con " + intentos + " intentos restantes.");
			reiniciar();
		}

		else
		{
			intentos--;
			alert("Usted NO acerto, tienes " + intentos + " intentos restantes.");
			if(intentos==0)
			{
			alert("Que mala suerte, los numeros pensados eran: " + secrets + ". No pudiste adivinarlo dentro de los 3 intentos.");
			reiniciar();	
			}	
		}

		input.value = "";
		input.focus();


	}

	function reiniciar()
	{
		restart = prompt("Quieres intentarlo de nuevo? SI = y  NO= n");
		
		if(restart=='y')
			{
				intentos=3;
				secrets = sortear(4);
			}
		if(restart=='n')
			{
				document.write("<h1>Juego finalizado.</h1> ");
			}
		
		if(restart!='y'|| restart!='n')
			{
				intentos=0;
				button.onclick = reiniciar;
			}
	}

button.onclick = verificar;	
</script>